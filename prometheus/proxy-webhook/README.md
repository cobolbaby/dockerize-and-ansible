# Go HTTP 代理工具

一个简单的 HTTP 代理程序，支持：

* 打印每个请求的详细内容（请求行、请求头、请求体）
* 支持配置一个或多个下游目标地址，多目标采用轮询策略转发请求
* 当未配置下游目标时，仅打印请求不转发

---

## 功能说明

* 通过 `-target` 参数配置一个或多个下游服务地址
* 通过 `-port` 参数自定义监听端口，默认 8080
* 轮询策略实现多目标负载均衡（可轻松改为随机策略）
* 请求和响应头及体完整转发，保持请求原样转发给目标

---

## 编译运行

### 依赖

* Go

### 编译

```bash
make build
```

### 运行

```bash
./bin/proxy -target http://example1.com -target http://example2.com -port 8080
```

示例：

* 监听 8080 端口
* 将请求轮询转发到 `http://example1.com` 和 `http://example2.com`

---

## 命令行参数

| 参数        | 说明            | 默认值  |
| --------- | ------------- | ---- |
| `-target` | 下游目标地址（可多次指定） | 无    |
| `-port`   | 监听端口          | 8080 |

---

## 日志示例

```log
======= HTTP 请求开始 =======
GET /api/v1/test HTTP/1.1
Host: localhost:8080
User-Agent: curl/7.68.0
Accept: */*

请求体内容（如果有）
======= HTTP 请求结束 =======
```

---

## Makefile 命令

| 命令           | 说明      |
| ------------ | ------- |
| `make build` | 编译程序    |
| `make run`   | 编译并运行程序 |
| `make clean` | 清理编译产物  |

---

如有任何问题，欢迎提 issue 或联系作者。
